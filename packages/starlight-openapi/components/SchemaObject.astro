---
import { getNullable, getSchemaObjects, isSchemaObjectObject, type SchemaObject } from '../libs/schemaObject'
import Items from './Items.astro'
import SchemaObjectObject from './SchemaObjectObject.astro'
import SchemaObjects from './SchemaObjects.astro'

interface Props {
  schemaObject: SchemaObject
}

const { schemaObject } = Astro.props

const schemaObjects = getSchemaObjects(schemaObject)
---

{
  schemaObjects ? (
    <SchemaObjects {schemaObjects} />
  ) : (
    <>
      {schemaObject.description && <div>{schemaObject.description}</div>}
      <Items items={schemaObject} />
      {isSchemaObjectObject(schemaObject) && <SchemaObjectObject {schemaObject} />}
      {getNullable(schemaObject) && <div>NULLABLE</div>}
    </>
  )
}
