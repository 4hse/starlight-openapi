---
import { isOpenAPIV2Items } from '../../libs/items'
import type { Parameter } from '../../libs/parameter'
import { isParameterWithSchemaObject } from '../../libs/schemaObject'
import Content from '../content/Content.astro'
import Items from '../Items.astro'
import Key from '../Key.astro'
import Schema from '../schema/Schema.astro'

interface Props {
  parameter: Parameter
}

const { parameter } = Astro.props
---

<Key deprecated={parameter.deprecated} name={parameter.name} required={parameter.required}>
  {
    isOpenAPIV2Items(parameter) ? (
      <Items items={parameter} />
    ) : parameter.content ? (
      <Content content={parameter.content} />
    ) : isParameterWithSchemaObject(parameter) ? (
      <Schema example={parameter.example} examples={parameter.examples} schema={parameter.schema} />
    ) : null
  }
  {parameter.description && <div>{parameter.description}</div>}
  {parameter.allowEmptyValue ? <div>ALLOW EMPTY VALUE</div> : <div>DO NOT ALLOW EMPTY VALUE</div>}
</Key>
