---
import type { PathItemOperation } from '../libs/operation'
import type { Schema } from '../libs/schema'
import Parameters from './Parameters.astro'
import RequestBody from './RequestBody.astro'

interface Props {
  operation: PathItemOperation
  schema: Schema
}

const {
  operation: { method, operation, path },
} = Astro.props

// TODO(HiDeoo) capitalize description
// TODO(HiDeoo) request body
---

<div>
  {operation.description && <div>Description in MARKDOWN: {operation.description}</div>}
  {
    operation.externalDocs && (
      <div>
        <div>External Docs URL: {operation.externalDocs.url}</div>
        {operation.externalDocs.description && (
          <div>External Docs Description: {operation.externalDocs.description}</div>
        )}
      </div>
    )
  }
  <div>
    <div>Method: {method}</div>
    <div>Path: {path}</div>
  </div>
  {operation.deprecated && <div>OPERATION DEPRECATED</div>}
  <Parameters operation={Astro.props.operation} />
  <RequestBody {operation} />
</div>
